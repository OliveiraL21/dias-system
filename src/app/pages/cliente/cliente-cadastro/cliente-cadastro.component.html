<div class="flex align-item-center mt-5">
  <p-toast position="top-right"></p-toast>
  <p-blockUI [blocked]="loading">
    <p-progressSpinner styleClass="w-4rem h-4rem" strokeWidth="8" fill="var(--surface-ground)"
      animationDuration=".5s"></p-progressSpinner>
  </p-blockUI>

  <p-card [header]="title" class="w-full lg: w-11">
    <form class="w-4 h-full" [formGroup]="form">
      <div class="w-full">
        <label for="razaoSocial" class="block text-900 font-medium mb-2">Razão Social <span
            class="text-red-500">*</span></label>
        <input type="text" name="razaoSocial" placeholder="ex: Google" id="razaoSocial" formControlName="razaoSocial"
          pInputText class="w-full mb-3">
        <small *ngIf="form.get('razaoSocial')?.hasError('required') && form.get('razaoSocial')?.dirty"
          class="p-0 mb-4 p-error block">Campo obrigatório
        </small>
      </div>

      <div class="w-5 mr-2">
        <label for="tipo" class="block text-900 font-medium mb-2">Tipo de cliente <span
            class="text-red-500">*</span></label>
        <p-dropdown styleClass="w-full mb-3" formControlName="tipo" [options]="tiposCliente" optionLabel="descricao"
          optionValue="descricao" [showClear]="true" placeholder="ex: juridico ou fisica"
          (ngModelChange)="changeCPFCNPJValidator()"></p-dropdown>
        <small *ngIf="form.get('tipo')?.hasError('required') && form.get('tipo')?.dirty"
          class="p-error block mb-4 p-0">Campo
          obrigatório</small>

        <div *ngIf="changeViewCpfCnpj === 'Pessoa Jurídica'">
          <label for="cnpj" class="block text-900 font-medium mb-2">Cnpj <span class="text-red-500">*</span></label>
          <p-inputMask mask="99.999.999/9999-99" formControlName="cnpj" name="cnpj" id="cnpj"
            placeholder="99.999.999/9999-99" styleClass="w-full mb-3"></p-inputMask>
          <small *ngIf="form.get('cnpj')?.hasError('required') && form.get('cnpj')?.dirty"
            class="p-0 mb-4 p-error block">Campo obrigatório
          </small>
        </div>

        <div *ngIf="changeViewCpfCnpj === 'Pessoa Física'">
          <label for="cnpj" class="block text-900 font-medium mb-2">Cpf <span class="text-red-500">*</span></label>
          <p-inputMask mask="999.999.999-99" formControlName="cpf" name="cpf" id="cpf" placeholder="999.999.999-99"
            styleClass="w-full mb-3"></p-inputMask>
          <small *ngIf="form.get('cpf')?.hasError('required') && form.get('cpf')?.dirty"
            class="p-0 mb-4 p-error block">Campo obrigatório
          </small>
        </div>
      </div>




      <label for="telefone" class="block text-900 font-medium mb-2">Telefone <span class="text-red-500">*</span></label>
      <p-inputMask mask="(99) 9999-9999" formControlName="telefone" name="telefone" id="telefone"
        placeholder="(99) 99999-9999" styleClass="w-full mb-3"></p-inputMask>
      <small *ngIf="form.get('telefone')?.hasError('required') && form.get('telefone')?.dirty"
        class="p-0 mb-4 p-error block">Campo obrigatório
      </small>


      <label for="celular" class="block text-900 font-medium mb-2">Celular</label>
      <p-inputMask mask="(99) 99999-9999" id="celular" formControlName="celular" name="celular"
        placeholder="(99) 99999-9999" styleClass="w-full mb-3"></p-inputMask>


      <div class="flex flex-column gap-2">
        <label for="email" class="block text-900 font-medium mb-2">E-mail <span class="text-red-500">*</span></label>
        <input type="text" name="email" id="email" formControlName="email" placeholder="exemplo@exemplo.com" pInputText
          class="w-full mb-3">
        <small *ngIf="form.get('email')?.hasError('email') && form.get('email')?.dirty"
          class="p-0 mb-4 p-error block">E-mail no formato inválido</small>

        <small
          *ngIf="form.get('email')?.hasError('required') && !form.get('email')?.hasError('email') && form.get('email')?.dirty"
          class="p-0 mb-4 p-error block">Campo obrigatório</small>
      </div>

      <div>
        <label for="logradouro" class="block text-900 font-medium mb-2">Logradouro <span
            class="text-red-500">*</span></label>
        <input type="text" formControlName="logradouro" name="logradouro" id="logradouro"
          placeholder="ex: Rua das Flores" pInputText class="w-full mb-3">
        <small class="p-0 mb-4 p-error block"
          *ngIf="form.get('logradouro')?.hasError('required') && form.get('logradouro')?.dirty">Campo
          obrigatório</small>
      </div>
      <div>
        <label for="numero" class="block text-900 font-medium mb-2">Número <span class="text-red-500">*</span></label>
        <input type="text" class="w-full mb-3" formControlName="numero" name="numero" id="numero" placeholder="ex: 123"
          pInputText>
        <small class="p-0 mb-4 p-error block"
          *ngIf="form.get('numero')?.hasError('required') && form.get('numero')?.dirty">Campo obrigatório</small>
      </div>
      <div>
        <label for="bairro" class="block text-900 font-medium mb-2">Bairro <span class="text-red-500">*</span></label>
        <input type="text" formControlName="bairro" name="bairro" id="bairro" placeholder="ex: Centro" pInputText
          class="w-full mb-3">
        <small class="p-0 mb-4 p-error block"
          *ngIf="form.get('bairro')?.hasError('required') && form.get('bairro')?.dirty">Campo obrigatório</small>
      </div>
      <div>
        <label for="cep" class="block text-900 font-medium mb-2">Cep</label>
        <input type="text" formControlName="cep" name="cep" id="cep" placeholder="ex: 12345-678" pInputText
          class="w-full mb-3">
      </div>
      <div>
        <label for="Cidade" class="block text-900 font-medium mb-2">Cidade <span class="text-red-500">*</span></label>
        <input type="text" formControlName="cidade" name="cidade" id="cidade" placeholder="ex: São Paulo" pInputText
          class="w-full mb-3">
        <small class="p-0 mb-4 p-error block"
          *ngIf="form.get('cidade')?.hasError('required') && form.get('cidade')?.dirty">
          Campo obrigatório
        </small>
      </div>

      <div class="flex">
        <p-button label="Salvar" icon="pi pi-save" iconPos="right" (onClick)="save()"></p-button>
        <p-button class="ml-2" label="Cancelar" severity="danger" icon="pi pi-times" iconPos="right"
          (onClick)="cancelar()"></p-button>
      </div>

    </form>
  </p-card>
</div>
