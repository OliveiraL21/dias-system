<div class="justify-content-center align-item-center mt-4">
  <p-toast position="top-right"></p-toast>
  <p-blockUI [blocked]="loading">
    <p-progressSpinner styleClass="w-4rem h-4rem" strokeWidth="8" fill="var(--surface-ground)"
      animationDuration=".5s"></p-progressSpinner>
  </p-blockUI>
  <p-card class="w-full mb-10">
    <ng-template pTemplate="header">
      <h1 class="p-4">Dashboard</h1>
    </ng-template>
    <div class="w-full flex flex-wrap gap-5">
      <p-card styleClass="w-18rem">
        <ng-template pTemplate="header">
          <div class="flex justify-content-between">
            <span class="block  text-600 font-medium mt-4 ml-4">Projetos em andamento</span>
            <i class="pi pi-chart-line mt-4 mr-4" style="color: green"></i>
          </div>
        </ng-template>
        <ng-template pTemplate="body">
          <div class="w-full flex p-0">
            <span class="text-4xl font-bold text-center p-0">{{projetosAtivos}}</span>
          </div>
        </ng-template>
      </p-card>

      <p-card styleClass="w-18rem" *ngIf="tarefas">
        <ng-template pTemplate="header">
          <div class="flex justify-content-between">
            <span class="block text-600 font-medium mt-4 ml-4">Total de horas da semana</span>
            <i class="pi pi-list mr-4 mt-4" style="color: #2c4ab8"></i>
          </div>
        </ng-template>
        <ng-template pTemplate="body">
          <div class="w-full flex p-0">
            <span class="text-4xl font-bold text-center p-0">{{horasSemana}}</span>
          </div>
        </ng-template>

      </p-card>


      <p-card styleClass="w-18rem" *ngIf="tarefas">
        <ng-template pTemplate="header">
          <div class="flex justify-content-between">
            <span class="block text-600 font-medium mt-4 ml-4">Total de horas do projeto</span>
            <i class="pi pi-calendar mr-4 mt-4" style="color: tomato"></i>
          </div>
        </ng-template>
        <ng-template pTemplate="body">
          <div class="w-full flex p-0">
            <span class="text-4xl font-bold text-center p-0">{{totalHours}}</span>
          </div>
        </ng-template>

      </p-card>
    </div>
    <div class="mt-5">

      <div class="mb-5 w-full">
        <div>
          <label for="projetos" class="block text-900 font-medium mb-2">Projetos</label>
          <p-dropdown placeholder="Selecione o Projeto" [showClear]="true" [(ngModel)]="projeto" [options]="projetos"
            optionLabel="descricao" optionValue="id" (ngModelChange)="getProjectTasks($event)"></p-dropdown>
        </div>
      </div>

      <p-fieldset *ngIf="tarefas" legend="Tarefas da semana">
        <div class="w-full h-25rem lg:h-18rem ">
          <p-chart type="bar" [data]="basicData" width="100%" height="100%"></p-chart>
        </div>
      </p-fieldset>
    </div>

  </p-card>
</div>
